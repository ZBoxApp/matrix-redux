{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "title": "Room",
    "description": "The room Object",
    "type": "object",
    "properties": {
        "aliases": {
            "description": "The room address aliases",
            "type": "array"
        },
        "canonical_alias": {
            "description": "The room principal alias",
            "type": "string"
        },
        "creatorId": {
            "description": "The id of the user who created the room",
            "type": "string",
            "pattern": "^@.*:"
        },
        "events": {
            "description": "Array of events ids for this room",
            "type": "array",
        },
        "guestAccess": {
            "description": "If the rooms has guest access enabled",
            "type": "boolean"
        },
        "historyVisibilty": {
            "description": "The ACL of the room history",
            "type": "string",
            "pattern": "(invited|joined|shared|world_readable)"
        },
        "joinRule": {
            "description": "The type of rules used for users wishing to join this room",
            "type": "string",
            "pattern": "(public|knock|invite|private)"
        },
        "id": {
            "description": "The room id",
            "type": "string"
        },
        "isLoading": {
            "description": "The loaded status",
            "type": "boolean"
        },
        "messages": {
            "description": "Array of messages Ids events",
            "type": "array"
        },
        "membershipState": {
            "description": "The current user membership state",
            "type": "string",
            "pattern": "(join|leave|invite)"
        },
        "name": {
            "description": "The room name",
            "type": "string"
        },
        "topic": {
            "description": "The room topic or subject",
            "type": "string"
        },
        "avatarUrl": {
            "description": "The room avatar url",
            "type": "string",
            "pattern": "^mxc:\/\/.*"
        },
        "members": {
            "description": "A list of users ids group by membership state",
            "type": "object",
            "properties": {
                "join": {
                    "description": "Array of users ids that are members",
                    "type": "array",
                    "items": { "type": "string", "pattern": "^@.*:" }
                },
                "leave": {
                    "description": "Array of users that leave the rooms",
                    "type": "array",
                    "items": { "type": "string", "pattern": "^@.*:" }
                },
                "invite": {
                    "description": "Array of invited users ids, who are not joined the room",
                    "type": "array",
                    "items": { "type": "string", "pattern": "^@.*:" }
                },
                "banned": {
                    "description": "Array of banned users ids, who are not joined the room",
                    "type": "array",
                    "items": { "type": "string", "pattern": "^@.*:" }
                }
            }
        },
        "timeline": {
            "description": "A list of this room events",
            "type": "object",
            "properties": {
                "limited": {
                    "description": "If is a limited sync",
                    "type": "boolean"
                },
                "prevBatch": {
                    "description": "The syncToken to use on the next sync",
                    "type": "string"
                },
                "events": {
                    "description": "Array of events ids, sorted by date",
                    "type": "array",
                    "items": { "type": "string" }
                }
            }
        },
        "unreadNotifications": {
            "description": "Object with the notifications count",
            "type": "object",
            "properties": {
                "highlightCount": {
                    "description": "This rooms highlited notifications",
                    "type": "integer"
                },
                "notificationCount": {
                    "description": "This rooms notifications count",
                    "type": "integer"
                }
            }
        },
        "currentUserPreferences": {
            "description": "The user preferences for this Room",
            "type": "object"
        }
    },
    "required": [ "id", "timeline", "currentUserPreferences", "membershipState" ]
}
