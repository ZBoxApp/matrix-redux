{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "title": "Room",
    "description": "The room Object",
    "type": "object",
    "properties": {
        "id": {
            "description": "The room id",
            "type": "string"
        },
        "membershipState": {
            "description": "The current user membership state",
            "type": "string",
            "pattern": "(join|leave|invite)"
        },
        "name": {
            "description": "The room name",
            "type": "string"
        },
        "topic": {
            "description": "The room topic or subject",
            "type": "string"
        },
        "avatarUrl": {
            "description": "The room avatar url",
            "type": "string",
            "pattern": "^mxc:\/\/.*"
        },
        "members": {
            "description": "A list of users ids group by membership state",
            "type": "object",
            "properties": {
                "join": {
                    "description": "Array of users ids that are members",
                    "type": "array",
                    "items": {
                        "type": "string",
                        "pattern": "^@.*:"
                    }
                },
                "leave": {
                    "description": "Array of users that leave the rooms",
                    "type": "array",
                    "items": {
                        "type": "string",
                        "pattern": "^@.*:"
                    }
                },
                "invite": {
                    "description": "Array of invited users ids, who are not joined the room",
                    "type": "array",
                    "items": {
                        "type": "string",
                        "pattern": "^@.*:"
                    }
                }
            }
        },
        "timeline": {
            "description": "A list of this room events",
            "type": "object",
            "properties": {
                "limited": {
                    "description": "If is a limited sync",
                    "type": "boolean"
                },
                "prevBatch": {
                    "description": "The syncToken to use on the next sync",
                    "type": "string"
                },
                "events": {
                    "description": "Array of events ids, sorted by date",
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                }
            }
        },
        "unreadNotifications": {
            "description": "Object with the notifications count",
            "type": "object",
            "properties": {
                "highlightCount": {
                    "description": "This rooms highlited notifications",
                    "type": "integer"
                },
                "notificationCount": {
                    "description": "This rooms notifications count",
                    "type": "integer"
                }
            }
        }
    },
    "required": [
        "id",
        "timeline"
    ]
}
